/* =========================================
   1. VARIABLES & RESET
   ========================================= */
:root {
    --font-titles: "Orbitron", sans-serif;
    --font-body: "Exo 2", sans-serif;
    --primary-red: #ff1f1f;
    --bg-black: #000000;
}

html {
    scroll-behavior: smooth;
}

body {
    margin: 0;
    padding: 0;
    font-family: var(--font-body);
    background-color: var(--bg-black);
    overflow-x: hidden;
    height: 100vh;
}

/* =========================================
   2. NAVBAR (Cápsula Flotante)
   ========================================= */
/* --- NAV (Sin cambios) --- */
.site-nav {
  width: 94%;
  max-width: 1400px;
  margin: 20px auto 0;
  padding: 15px 40px;
  border-radius: 16px;
  background: rgba(20, 20, 20, 0.75);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: relative;
  z-index: 100;

  .site-nav__brand {
    display: flex;
    align-items: center;
    gap: 12px;
    text-decoration: none;

    img.site-nav__logo {
      height: 40px;
      width: auto;
    }
    .brand-text .site-nav__word {
      font-family: var(--font-titles);
      font-weight: 700;
      font-size: 20px;
      color: #fff;
      letter-spacing: 2px;
      text-transform: uppercase;
    }
  }

  .site-nav__menu {
    display: flex;
    gap: 10px;
    align-items: center;

    .nav-link {
      font-family: var(--font-titles);
      font-size: 13px;
      font-weight: 500;
      color: #ccc;
      text-decoration: none;
      padding: 10px 20px;
      border-radius: 8px;
      transition: all 0.3s ease;
      letter-spacing: 1px;

      &:hover {
        color: #fff;
        background: rgba(255, 255, 255, 0.05);
      }
      &.btn-highlight {
        background-color: #f12125;
        color: #fff;
        font-weight: 700;
        border: 1px solid #f12125;
        box-shadow: 0 4px 15px rgba(241, 33, 37, 0.4);
        &:hover {
          background-color: #ff3b3f;
          transform: translateY(-2px);
          box-shadow: 0 6px 20px rgba(241, 33, 37, 0.6);
        }
      }
    }
  }

  @media (max-width: 900px) {
    width: 100%;
    margin: 0;
    border-radius: 0;
    border: none;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    padding: 15px 20px;
    flex-direction: column;
    gap: 20px;
    .site-nav__menu {
      width: 100%;
      justify-content: center;
      flex-wrap: wrap;
      .nav-link {
        font-size: 11px;
        padding: 8px 12px;
      }
    }
  }
}

/* =========================================
   3. HERO SECTION (Efecto Sándwich)
   ========================================= */
.home-hero {
    position: relative;
    width: 100%;
    height: 100vh;
    overflow: hidden;
    background-color: #000;

    /* REGLA MAESTRA: Centrado absoluto */
    .hero-layer {
        position: absolute;
        top: 0; left: 0; width: 100%; height: 100%;
        pointer-events: none;
        display: flex;
        justify-content: center;
        align-items: center;

        /* CAPA 1: FONDO */
        &.layer-bg {
            z-index: 1;
            img { width: 100%; height: 100%; object-fit: cover; }
        }

        /* CAPA 2: TEXTO ATRÁS */
        &.layer-text-back { z-index: 2; }

        /* CAPA 3: IMAGEN MEDIO */
        &.layer-image {
            z-index: 3;
            img {
                width: 100%;
                max-width: 2000px;
                height: auto;
                object-fit: contain;
            }
        }

        /* CAPA 4: TEXTO ADELANTE */
        &.layer-text-front { z-index: 4; }

        /* CAPA 5: INTERFAZ */
        &.layer-ui {
            z-index: 10;
            align-items: flex-end;
            padding-bottom: 6%;
            pointer-events: auto;
        }
    }

    /* ESTILOS DE TEXTO */
    .giant-text {
        font-family: var(--font-titles);
        font-size: 11vw;
        font-weight: 900;
        margin: 0;
        line-height: 0.8;
        letter-spacing: -3px;
        text-transform: uppercase;
        text-align: center;

        &.filled {
            color: var(--primary-red);
            filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.5));
        }

        &.outline {
            color: transparent;
            -webkit-text-stroke: 2px var(--primary-red);
            stroke: var(--primary-red);
        }
    }

    .hero-subtitle {
        position: absolute;
        bottom: 40%;
        right: 18%;
        font-family: var(--font-titles);
        color: rgba(255, 255, 255, 0.9);
        letter-spacing: 6px;
        text-transform: uppercase;
        font-size: 1rem;
        margin: 0;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.8);
    }

    /* Botón Explore */
    .btn-explore {
        background-color: var(--primary-red);
        color: white;
        text-decoration: none;
        padding: 15px 45px;
        border-radius: 50px;
        font-family: var(--font-titles);
        font-weight: 700;
        font-size: 1rem;
        box-shadow: 0 10px 30px rgba(255, 31, 31, 0.4);
        transition: all 0.3s ease;
        letter-spacing: 2px;

        &:hover {
            transform: translateY(-5px);
            background-color: white;
            color: var(--primary-red);
            box-shadow: 0 15px 40px rgba(255, 255, 255, 0.4);
        }
    }

    /* Responsive Hero */
    @media (max-width: 768px) {
        .giant-text { font-size: 16vw; letter-spacing: -2px; }
        .hero-subtitle { bottom: 25%; right: 0; width: 100%; text-align: center; font-size: 0.9rem; }
        .layer-image img { width: 95%; opacity: 1; }
        .btn-explore { padding: 12px 35px; font-size: 0.9rem; }
    }
}

/* =========================================
   4. SECCIÓN MOUNTAIN (Acordeón)
   ========================================= */
.mountain-section {
    background-color: var(--bg-black);
    padding: 80px 0;
    text-align: center;

    .section-title {
        font-family: var(--font-titles);
        font-size: 3rem;
        color: white;
        margin-bottom: 50px;
        letter-spacing: 5px;
    }

    .accordion-container {
        display: flex;
        width: 90%;
        max-width: 1200px;
        margin: 0 auto;
        height: 500px;
        gap: 15px;

        .accordion-card {
            position: relative;
            flex: 1;
            overflow: hidden;
            cursor: pointer;
            transition: flex 0.8s cubic-bezier(0.25, 0.8, 0.25, 1);

            &:hover {
                flex: 4;
                .card-img { transform: scale(1.05); }
                .card-content { opacity: 1; transform: translateY(0); }
                .card-overlay { opacity: 0.7; }
            }

            .card-img {
                position: absolute; top: 0; left: 0; width: 100%; height: 100%;
                object-fit: cover; z-index: 1; transition: transform 0.8s ease;
            }

            .card-overlay {
                position: absolute; top: 0; left: 0; width: 100%; height: 100%;
                background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, transparent 60%);
                z-index: 2; opacity: 0.3; transition: opacity 0.4s;
            }

            .card-content {
                position: absolute; bottom: 40px; left: 40px; z-index: 3; text-align: left;
                opacity: 0; transform: translateY(30px); transition: all 0.5s ease 0.1s;

                h3 { font-family: var(--font-titles); font-size: 2.5rem; margin: 0; text-transform: uppercase; color: white; }
                p { font-family: var(--font-body); color: var(--primary-red); margin: 5px 0 20px 0; font-weight: 700; letter-spacing: 3px; }

                .card-btn {
                    display: inline-block; text-decoration: none; color: white;
                    font-family: var(--font-titles); font-weight: 700; padding: 10px 25px;
                    border: 2px solid var(--primary-red); border-radius: 30px; transition: all 0.3s ease;

                    &:hover { background-color: var(--primary-red); box-shadow: 0 0 15px rgba(255, 31, 31, 0.5); }
                }
            }
        }
    }

    @media (max-width: 768px) {
        .accordion-container { flex-direction: column; height: 700px; }
        .accordion-card { width: 100%; }
        .accordion-card:hover { flex: 2; }
    }
}

/* =========================================
   5. SECCIÓN GEAR (ESTILO HUD FUTURISTA)
   ========================================= */
.gear-section {
    position: relative;
    background-color: #050505;
    overflow: hidden;
    padding: 100px 0;
    height: 900px;
    font-family: var(--font-titles);

    /* FONDO DE TEXTO */
    .bg-text-pattern {
        position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0;
        font-family: var(--font-titles); font-weight: 900; font-size: 8rem; line-height: 0.85;
        text-align: center; text-transform: uppercase;
        color: transparent; -webkit-text-stroke: 2px rgba(255, 255, 255, 0.08);
        pointer-events: none; user-select: none; overflow: hidden;
    }

    /* CONTENEDOR PRINCIPAL */
    .gear-container {
        position: relative;
        z-index: 1;
        width: 100%;
        max-width: 1200px;
        height: 100%;
        margin: 0 auto;

        /* ESFERAS (ORBS) */
        .gear-orb {
            position: absolute; width: 140px; height: 140px;
            border-radius: 50%; border: 1px solid rgba(255, 255, 255, 0.3);
            background: rgba(0, 0, 0, 0.6);
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.05);
            display: flex; justify-content: center; align-items: center; z-index: 2;
            transition: transform 0.3s ease, border-color 0.3s ease;

            &:hover {
                transform: scale(1.1);
                border-color: var(--primary-red);
                box-shadow: 0 0 30px rgba(255, 31, 31, 0.4);
            }

            .orb-grid {
                position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 50%;
                background-image:
                    linear-gradient(rgba(255, 255, 255, 0.1) 1px, transparent 1px),
                    linear-gradient(90deg, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
                background-size: 20px 20px; opacity: 0.5; pointer-events: none;
            }

            img {
                width: 60%; height: auto; object-fit: contain; z-index: 2;
                filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.2));
            }
        }

        /* Posiciones Específicas */
        .item-helmet { top: 5%; left: 15%; }
        .item-suit-icon { top: 30%; left: 10%; width: 160px; height: 160px; }
        .item-harness { top: 55%; left: 18%; }
        .item-boots { top: 65%; left: 40%; }

        /* TARJETA CENTRAL */
        .center-card {
            position: absolute; top: 10%; right: 15%; width: 350px; height: 500px;
            transform: rotate(-10deg); z-index: 5; transition: transform 0.5s ease;

            &:hover { transform: rotate(0deg) scale(1.02); }

            .card-frame {
                width: 100%; height: 100%; background-color: #1a1a1a;
                border: 4px solid #fff; overflow: hidden; box-shadow: 0 20px 50px rgba(0, 0, 0, 0.9);
                img { width: 100%; height: 100%; object-fit: cover; }
            }

            .decor-block {
                position: absolute; background-color: var(--primary-red); width: 50px; height: 100px; z-index: 6;
                &.top-left { top: 30px; left: -25px; }
                &.bottom-right { bottom: 30px; right: -25px; }
            }

            /* IMAGEN QR (Ajustada y con filtro rojo) */
            .qr-code-img {
                position: absolute;
                top: 25px;      /* Altura ajustada */
                right: -65px;   /* Salida por la derecha */
                width: 50px;    
                height: auto;
                z-index: 7;     
                opacity: 0.9;
                
                /* Filtro para volver rojo el QR negro */
                filter: brightness(0) saturate(100%) invert(18%) sepia(95%) saturate(7462%) hue-rotate(358deg) brightness(94%) contrast(116%);
            }
        }

        /* LÍNEAS ROJAS */
        .red-line {
            position: absolute; background-color: var(--primary-red); height: 2px; z-index: 1;
            transform-origin: 0 0; box-shadow: 0 0 8px var(--primary-red); opacity: 0.8;
        }
        /* Coordenadas líneas */
        .line-1 { top: 12%; left: 22%; width: 350px; transform: rotate(15deg); }
        .line-2 { top: 40%; left: 20%; width: 380px; transform: rotate(-10deg); }
        .line-3 { top: 62%; left: 25%; width: 300px; transform: rotate(-35deg); }
        .line-4 { top: 72%; left: 45%; width: 200px; transform: rotate(-65deg); }

        /* BARRA DE CARGA (IMAGEN) */
        .loading-bar-img {
            position: absolute; bottom: 50px; left: 50%; transform: translateX(-50%);
            width: 300px; height: auto; opacity: 0.9;
            filter: drop-shadow(0 0 10px rgba(255, 31, 31, 0.3));
        }
    }

    /* RESPONSIVE GEAR */
    @media (max-width: 900px) {
        height: auto; padding-bottom: 80px;

        .bg-text-pattern { font-size: 4rem; }

        .gear-container {
            display: flex; flex-direction: column; align-items: center; gap: 50px; padding-top: 50px;

            /* Resetear posiciones absolutas */
            .gear-orb, .center-card, .loading-bar-img {
                position: relative; top: auto !important; left: auto !important; right: auto !important; transform: none !important;
            }

            /* Ocultar elementos decorativos complejos */
            .red-line, .qr-code-img { display: none; }

            .center-card { width: 80%; max-width: 300px; height: 400px; margin: 20px 0; }
            .gear-orb { margin-bottom: 10px; }
            .loading-bar-img { width: 80%; margin-top: 30px; }
        }
    }
}